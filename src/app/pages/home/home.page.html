<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title class="ion-text-center">{{ env.appName }}</ion-title>
    <ion-icon name="home" slot="end" size="large" class="ion-margin"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <section *ngIf="articles">

    <div *ngFor="let article of articles">
      <ion-card class="ion-no-margin ion-margin-bottom" routerLink="/view/{{ article.aid }}">
        <ion-img [alt]="article.atitle" [src]="article.athumbnail"></ion-img>
        <ion-card-header>
          <ion-card-title>{{ article.atitle }}</ion-card-title>
          <ion-card-subtitle>Por {{ article.aauthor.uname }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>{{ article.aresume }}</ion-card-content>
      </ion-card>
    </div>

  </section>

  <aside>

    <ion-list *ngIf="mostVieweds" class="ion-margin-bottom">
      <ion-list-header>
        <ion-label>Mais Visitados</ion-label>
      </ion-list-header>
      <ion-item *ngFor="let article of mostVieweds">
        <ion-thumbnail slot="start">
          <img [alt]="article.atitle" [src]="article.athumbnail">
        </ion-thumbnail>
        <ion-label><a routerLink="/view/{{ article.aid }}">{{ article.atitle }}</a></ion-label>
      </ion-item>
    </ion-list>

    <ion-list *ngIf="lastComments">
      <ion-list-header>
        <ion-label>Últimos Comentários</ion-label>
      </ion-list-header>
      <ion-item *ngFor="let comment of lastComments">
        <ion-avatar slot="start">
          <img [alt]="comment.fbname" [src]="comment.fbphoto">
        </ion-avatar>
        <ion-label><a routerLink="/view/{{ comment.carticle.aid }}">{{ comment.ccomment }}</a></ion-label>
      </ion-item>
    </ion-list>

  </aside>

</ion-content>